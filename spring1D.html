<html>
<head>
<title>spring1D</title>
<style type="text/css">
<!--
/*
    This style sheet is borrowed from the NetLogo User Manual.  However, some of the units were
    changed from em to px because Java's StyleSheet support is limited for relative units such as
    em and % (this will supposively improve with newer versions of the VM) - jrn 7/21/05
    BE VERY VERY CAREFUL when you alter this style sheet -- it's possible to put in
    innocent-looking things that work on some VM's but cause Java exceptions on other for example
    we were using "font-size: 125%" but it caused Java exceptions on Java 1.5 on Windows - ST
    8/25/05
*/
:link { color: rgb(110,0,110); }
:visited { color: rgb(110,0,110); }
body {
    margin-left: 5px;
    font-family: arial, sans-serif;
    background: white;
    font-size: 12pt
}
h1 {
    color: white;
    background: rgb(45,0,45);
    font-size: 18pt;
    margin-bottom: 4px;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h2 {
    margin-top: 15px;
    margin-left: 6px;
    margin-bottom: 4px;
    background: rgb(166,172,255);
    font-size: 15pt;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h3 {
    margin-top: 15px;
    margin-left: 13px;
    margin-bottom: 4px;
    background: rgb(175,175,175);
    font-size: 12pt;
    padding: 0.2em;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h4 {
    margin-top: 15px;
    margin-bottom: 5px;
    margin-left: 15px;
    font-size: 12pt;
}
h5 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
h6 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
p {
    margin-left: 15px;
    margin-bottom: 3px;
}
pre {
    margin-left: 13px;
    background: rgb(225,225,225);
    font-family: monospace;
    font-size: 12pt;
    padding-left: 10px;
    padding-right: 3px;
    padding-top: 7px;
    padding-bottom: 7px;
    margin-top:9px;
    margin-bottom:0px;
}
code {
    font-family: monospace;
    font-size: 12pt;
}
blockquote {
    border: solid;
    border-style: solid;
    border-width: thin;
    border-color: black;
    background: rgb(250,250,220);
    padding-top: 0px;
    padding-bottom: 7px;
    margin-top: 7px;
    margin-bottom:1px;
}
ol {
   margin-bottom:1px;
}
ul {
   margin-bottom:1px;
}

-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 5.0.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>

<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="734" height="650">
  <param name="DefaultModel"
         value="spring1D.nlogo">
  <param name="java_arguments"
         value="-Djnlp.packEnabled=true">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="spring1D.nlogo">spring1D.nlogo</a></p>
<h2>WHAT IS IT?</h2><p>This is a model of a one-dimensional spring, for the book entitled &ldquo;Physicomimetics: Physics-Based Swarm Intelligence.&rdquo;</p><h2>HOW IT WORKS</h2><p>Two particles use F = ma and Hooke&rsquo;s law to move as a spring.</p><h2>HOW TO USE IT</h2><p>Click SETUP AGENTS to initialize the two particles, and click MOVE AGENTS to have them move.</p><p>The MASS_RATIO slider allows you to control the relative masses of the particles at the ends of the spring, at initialization. Changing this slider while the simulation is running will have no effect. </p><p>All other sliders will affect the simulation when it is running.</p><h2>THINGS TO NOTICE</h2><p>This simulation serves to teach you a simple model of a spring, as well as introduce you to more advanced concepts, such as the Conservation of Linear Momentum and the Conservation of Energy. This is covered in detail in Chapter 2 of the book. </p><p>Note how raising the TIME_STEP introduces very mild variations into the Conservation of Energy graph. The total energy is shown in brown, the kinetic energy is in green, and the potential energy is in blue. The total energy stays relatively constant while there is a constant tradeoff between potential and kinetic energy. Watch the simulation - when is kinetic energy high? When is potential energy high?</p><p>What happens when FRICTION is raised from 0.000 to 0.001? Where has the energy gone?</p><p>The red dot in the simulation shows the center of mass of the system. If the Conservation of Linear Momentum holds, the red dot will not move. In this simulation, if one of the particles crosses the boundary of the world (re-entering from the other side), the center of mass will change because the standard physics assumption of an Euclidean geometry has been broken (as explained in Chapter 2).</p><p>The graphics pane in NetLogo is toroidal. This means that when a particle agent moves off the pane to the North (South), it re-enters from the South (North). Similarly when a particle moves off the pane to the East (West), it re-enters from the West (East). However, Newtonian physics assumes Euclidean geometry. Hence, we use short spring lengths to ensure that neither particle crosses the edge of the graphics pane.</p><p>The toroidal world is the NetLogo default, but can be changed - see <a href="http://ccl.northwestern.edu/netlogo/docs/programming.html#topology">http://ccl.northwestern.edu/netlogo/docs/programming.html#topology</a></p><h2>THINGS TO TRY</h2><p>See how the SPRING_CONSTANT changes behavior. </p><p>What happens when you damp the spring with FRICTION? </p><p>What happens if you make one of the particles heavier by moving the MASS_RATIO slider (this must be done before you click SETUP AGENTS)?</p><p>Edit the DESIRED_SPRING_LENGTH to be a large value, such as 500. What happens? See Chapter 2 for details.</p><h2>EXTENDING THE MODEL</h2><p>Currently, the MASS_RATIO slider is only used during the initialization of the two particles. Modify the code to always monitor this slider (hint: you can do this in the &ldquo;update-info&rdquo; procedure), so that the mass of particle 1 can be changed dynamically.</p><p>Introduce a third particle and create a more complex structure that contains three springs. Use different spring constants for the three springs. One way to do this is to initially create three particles (by saying &ldquo;crt 3&rdquo;): 0, 1, and 2. Then you will need to modify &ldquo;setup-turtles&rdquo; so that it initializes all three particles in an appropriate manner. Finally, the &ldquo;ap&rdquo; procedure needs to be modified so that it knows which pair of particles are interacting (0 and 1, 0 and 2, or 1 and 2). You will want to have a different value of &ldquo;k&rdquo; for each pair. If you do this, what is the behavior of the system? </p><p>Note, in order to change any NetLogo simulation, you must have the source code (i.e., &ldquo;spring1D.nlogo&rdquo;) downloaded to your computer, as well as NetLogo itself. You can not change the code when you are running the simulation with your browser.</p><h2>NETLOGO FEATURES</h2><p>Since we are using a patch size of one, we wanted the particles to be more visible. This is done with &ldquo;set size 5&rdquo; in the code. However, they are still considered to be point particles (with no size) in the simulation. </p><p>Note also how the &ldquo;do-plots&rdquo; procedure draws the Energy graph and the Separation graph.</p><p>NetLogo provides built-in commands to model springs, but for the purposes of this book it is better to see how a spring works from first principles. In fact, one of the core concepts of this book is that the better we understand first principles, the more elegant our solutions will be.</p><h2>RELATED MODELS</h2><p>This is our first simulation. It will be generalized more and more throughout the book.</p><h2>CREDITS AND REFERENCES</h2><h2>HOW TO CITE</h2><p>If you mention this model in an academic publication, we ask that you include these citations for the model itself and for the NetLogo software:<br/>- Spears, William M. and Spears, Diana F. (eds.) Physicomimetics: Physics-Based Swarm Intelligence, Springer-Verlag, (2011).<br/>- Wilensky, U. (1999). NetLogo. <a href="http://ccl.northwestern.edu/netlogo/">http://ccl.northwestern.edu/netlogo/</a>. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.</p><h2>COPYRIGHT NOTICE</h2><p>Copyright 2011 William M. Spears. All rights reserved.</p><p>Permission to use, modify or redistribute this model is hereby granted, provided that both of the following requirements are followed:<br/>a) this copyright notice is included, and<br/>b) this model will not be redistributed for profit without permission from William M. Spears. Contact William M. Spears for appropriate licenses for redistribution for profit.</p><p><a href="http://www.swarmotics.com">http://www.swarmotics.com</a></p>

<h1>CODE</h1>
<pre><font color="#5a5a5a">; William M. Spears September 2011</font><font color="#000000">
</font><font color="#5a5a5a">; 1D Spring Law Tutorial Code</font><font color="#000000">
</font><font color="#5a5a5a">; For research and educational use only</font><font color="#000000">

</font><font color="#007f69">globals</font><font color="#000000"> [total_lm total_ke total_pe total_energy center_of_mass_x
         k FR DeltaT D S maxS minS]

</font><font color="#007f69">turtles-own</font><font color="#000000"> [hood deltax r F v dv mass ke lm]

</font><font color="#007f69">to</font><font color="#000000"> setup
   </font><font color="#0000aa">clear-all</font><font color="#000000">                                   </font><font color="#5a5a5a">; Clear everything</font><font color="#000000">
   </font><font color="#0000aa">crt</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">                                       </font><font color="#5a5a5a">; Create two turtles (particles)</font><font color="#000000">
   update-info
   </font><font color="#0000aa">set</font><font color="#000000"> maxS </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> minS </font><font color="#963700">100000</font><font color="#000000">                  </font><font color="#5a5a5a">; Initialize some variables</font><font color="#000000">
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [setup-turtles]                 </font><font color="#5a5a5a">; Set up the two particles</font><font color="#000000">

   </font><font color="#0000aa">set</font><font color="#000000"> S </font><font color="#660096">abs</font><font color="#000000">(([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">-</font><font color="#000000"> 
             ([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">))             </font><font color="#5a5a5a">; Separation between the turtles</font><font color="#000000">

                                               </font><font color="#5a5a5a">; Computes center of mass and displays location</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> center_of_mass_x (([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> ([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> 
                         ([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> ([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">)) </font><font color="#660096">/</font><font color="#000000"> 
                        (([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> ([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">))
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch</font><font color="#000000"> (</font><font color="#660096">round</font><font color="#000000"> center_of_mass_x) </font><font color="#963700">0</font><font color="#000000">
      [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">]]
   </font><font color="#0000aa">reset-ticks</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> run-and-monitor
   </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) [</font><font color="#0000aa">user-message</font><font color="#000000"> </font><font color="#963700">&quot;Please click HALT and then SETUP AGENTS first&quot;</font><font color="#000000"> </font><font color="#0000aa">stop</font><font color="#000000">]
   update-info
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [ap]
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [move]

   </font><font color="#0000aa">set</font><font color="#000000"> center_of_mass_x (([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> ([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> 
                         ([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> ([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">)) </font><font color="#660096">/</font><font color="#000000"> 
                        (([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> ([mass] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">))
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch</font><font color="#000000"> (</font><font color="#660096">round</font><font color="#000000"> center_of_mass_x) </font><font color="#963700">0</font><font color="#000000">
      [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">]]
   
   </font><font color="#0000aa">if</font><font color="#000000"> (S </font><font color="#660096">&gt;</font><font color="#000000"> maxS) [</font><font color="#0000aa">set</font><font color="#000000"> maxS S]
   </font><font color="#0000aa">if</font><font color="#000000"> (S </font><font color="#660096">&lt;</font><font color="#000000"> minS) [</font><font color="#0000aa">set</font><font color="#000000"> minS S]
   
   </font><font color="#0000aa">set</font><font color="#000000"> total_lm </font><font color="#660096">sum</font><font color="#000000"> [lm] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">            </font><font color="#5a5a5a">; Total linear momentum, x-component</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> total_ke </font><font color="#660096">sum</font><font color="#000000"> [ke] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">            </font><font color="#5a5a5a">; Total kinetic energy of both particles</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> total_pe (k </font><font color="#660096">*</font><font color="#000000"> (S </font><font color="#660096">-</font><font color="#000000"> D) </font><font color="#660096">*</font><font color="#000000"> (S </font><font color="#660096">-</font><font color="#000000"> D) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)    </font><font color="#5a5a5a">; Compute potential energy</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> total_energy (total_ke </font><font color="#660096">+</font><font color="#000000"> total_pe)      </font><font color="#5a5a5a">; Total energy of the two-particle system</font><font color="#000000">
   </font><font color="#0000aa">tick</font><font color="#000000">
   do-plots
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-turtles
   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">                             </font><font color="#5a5a5a">; Color the particles white</font><font color="#000000">
   </font><font color="#0000aa">home</font><font color="#000000">                                        </font><font color="#5a5a5a">; Set particles at (0,0) which is the center of the screen</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">               </font><font color="#5a5a5a">; Draw the particle as a large circle</font><font color="#000000">
                                               </font><font color="#5a5a5a">; Set particles along horizontal line</font><font color="#000000">
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (</font><font color="#660096">who</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">)                            </font><font color="#5a5a5a">; To allow for unequal masses of the two-particle system</font><font color="#000000">
      [</font><font color="#0000aa">set</font><font color="#000000"> mass </font><font color="#963700">1</font><font color="#000000">                              </font><font color="#5a5a5a">; Particle 0 has mass = 1</font><font color="#000000">
       </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">90</font><font color="#000000">                          </font><font color="#5a5a5a">; Turn to the right</font><font color="#000000">
       </font><font color="#0000aa">fd</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> (D </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">))]                </font><font color="#5a5a5a">; Move a random amount forward</font><font color="#000000">
      [</font><font color="#0000aa">set</font><font color="#000000"> mass Mass_Ratio                     </font><font color="#5a5a5a">; Particle 1 has mass = Mass_Ratio &gt; 1</font><font color="#000000">
       </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">270</font><font color="#000000">                         </font><font color="#5a5a5a">; Turn to the left</font><font color="#000000">
       </font><font color="#0000aa">fd</font><font color="#000000"> (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> (D </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">))]                </font><font color="#5a5a5a">; Move a random amount forward</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> ap                                          </font><font color="#5a5a5a">; Run artificial physics</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> v (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> FR) </font><font color="#660096">*</font><font color="#000000"> v                          </font><font color="#5a5a5a">; Slow down according to friction</font><font color="#000000">
   
   </font><font color="#0000aa">set</font><font color="#000000"> hood [</font><font color="#660096">who</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">other</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">             </font><font color="#5a5a5a">; Get the IDs of your neighbors</font><font color="#000000">
   </font><font color="#0000aa">foreach</font><font color="#000000"> hood [                     
      </font><font color="#0000aa">set</font><font color="#000000"> deltax (([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtle</font><font color="#000000"> ?) </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) </font><font color="#5a5a5a">; See how far you are from that neighbor</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> r </font><font color="#660096">abs</font><font color="#000000">(deltax)                        </font><font color="#5a5a5a">; The range is the absolute value</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> S r
      </font><font color="#0000aa">ifelse</font><font color="#000000"> (deltax </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">)                      </font><font color="#5a5a5a">; Is the neighbor to your right or left?</font><font color="#000000">
         [</font><font color="#0000aa">set</font><font color="#000000"> F (k </font><font color="#660096">*</font><font color="#000000"> (r </font><font color="#660096">-</font><font color="#000000"> D))]                 </font><font color="#5a5a5a">; The spring law if your neighbor is on the right</font><font color="#000000">
         [</font><font color="#0000aa">set</font><font color="#000000"> F (k </font><font color="#660096">*</font><font color="#000000"> (D </font><font color="#660096">-</font><font color="#000000"> r))]                 </font><font color="#5a5a5a">; Note sign change to have equal and opposite!</font><font color="#000000">
   ]
   </font><font color="#0000aa">set</font><font color="#000000"> dv DeltaT </font><font color="#660096">*</font><font color="#000000"> (F </font><font color="#660096">/</font><font color="#000000"> mass)
   </font><font color="#0000aa">set</font><font color="#000000"> v  (v </font><font color="#660096">+</font><font color="#000000"> dv)
   </font><font color="#0000aa">set</font><font color="#000000"> deltax DeltaT </font><font color="#660096">*</font><font color="#000000"> v 
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> move                                        </font><font color="#5a5a5a">; Move the turtle</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> deltax)
   </font><font color="#0000aa">set</font><font color="#000000"> ke (v </font><font color="#660096">*</font><font color="#000000"> v </font><font color="#660096">*</font><font color="#000000"> mass </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)                   </font><font color="#5a5a5a">; Kinetic energy of the turtle</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> lm (mass </font><font color="#660096">*</font><font color="#000000"> v)                           </font><font color="#5a5a5a">; Linear momentum of the turtle</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update-info                                 </font><font color="#5a5a5a">; Update information from the sliders</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> k Spring_Constant
   </font><font color="#0000aa">set</font><font color="#000000"> FR Friction
   </font><font color="#0000aa">set</font><font color="#000000"> DeltaT Time_Step
   </font><font color="#0000aa">set</font><font color="#000000"> D Desired_Spring_Length
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> do-plots
   </font><font color="#0000aa">set-current-plot</font><font color="#000000"> </font><font color="#963700">&quot;Energy&quot;</font><font color="#000000">                   </font><font color="#5a5a5a">; Select the Energy plot</font><font color="#000000">
   </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;Total&quot;</font><font color="#000000">                </font><font color="#5a5a5a">; Select the Total Energy pen</font><font color="#000000">
   </font><font color="#0000aa">plot</font><font color="#000000"> total_energy                           </font><font color="#5a5a5a">; Plot the total_energy</font><font color="#000000">
   </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;Potential&quot;</font><font color="#000000">
   </font><font color="#0000aa">plot</font><font color="#000000"> total_pe
   </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;Kinetic&quot;</font><font color="#000000">
   </font><font color="#0000aa">plot</font><font color="#000000"> total_ke

   </font><font color="#0000aa">set-current-plot</font><font color="#000000"> </font><font color="#963700">&quot;Separation&quot;</font><font color="#000000">               </font><font color="#5a5a5a">; Select the Separation plot</font><font color="#000000">
   </font><font color="#0000aa">set-plot-y-range</font><font color="#000000"> </font><font color="#660096">precision</font><font color="#000000"> (minS </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#963700">0</font><font color="#000000">     </font><font color="#5a5a5a">; Set the range of the y-axis</font><font color="#000000">
                    </font><font color="#660096">precision</font><font color="#000000"> (maxS </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#963700">0</font><font color="#000000">
   </font><font color="#0000aa">set-current-plot-pen</font><font color="#000000"> </font><font color="#963700">&quot;Sep&quot;</font><font color="#000000">                  </font><font color="#5a5a5a">; Select the Sep pen</font><font color="#000000">
   </font><font color="#0000aa">plot</font><font color="#000000"> S                                      </font><font color="#5a5a5a">; Plot the separation</font><font color="#000000">
</font><font color="#007f69">end</font>
</pre>

</body>
</html>
