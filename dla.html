<html>
<head>
<title>dla</title>
<style type="text/css">
<!--
/*
    This style sheet is borrowed from the NetLogo User Manual.  However, some of the units were
    changed from em to px because Java's StyleSheet support is limited for relative units such as
    em and % (this will supposively improve with newer versions of the VM) - jrn 7/21/05
    BE VERY VERY CAREFUL when you alter this style sheet -- it's possible to put in
    innocent-looking things that work on some VM's but cause Java exceptions on other for example
    we were using "font-size: 125%" but it caused Java exceptions on Java 1.5 on Windows - ST
    8/25/05
*/
:link { color: rgb(110,0,110); }
:visited { color: rgb(110,0,110); }
body {
    margin-left: 5px;
    font-family: arial, sans-serif;
    background: white;
    font-size: 12pt
}
h1 {
    color: white;
    background: rgb(45,0,45);
    font-size: 18pt;
    margin-bottom: 4px;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h2 {
    margin-top: 15px;
    margin-left: 6px;
    margin-bottom: 4px;
    background: rgb(166,172,255);
    font-size: 15pt;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h3 {
    margin-top: 15px;
    margin-left: 13px;
    margin-bottom: 4px;
    background: rgb(175,175,175);
    font-size: 12pt;
    padding: 0.2em;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h4 {
    margin-top: 15px;
    margin-bottom: 5px;
    margin-left: 15px;
    font-size: 12pt;
}
h5 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
h6 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
p {
    margin-left: 15px;
    margin-bottom: 3px;
}
pre {
    margin-left: 13px;
    background: rgb(225,225,225);
    font-family: monospace;
    font-size: 12pt;
    padding-left: 10px;
    padding-right: 3px;
    padding-top: 7px;
    padding-bottom: 7px;
    margin-top:9px;
    margin-bottom:0px;
}
code {
    font-family: monospace;
    font-size: 12pt;
}
blockquote {
    border: solid;
    border-style: solid;
    border-width: thin;
    border-color: black;
    background: rgb(250,250,220);
    padding-top: 0px;
    padding-bottom: 7px;
    margin-top: 7px;
    margin-bottom:1px;
}
ol {
   margin-bottom:1px;
}
ul {
   margin-bottom:1px;
}

-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 5.0.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="733" height="452">
  <param name="DefaultModel"
         value="dla.nlogo">
  <param name="java_arguments"
         value="-Djnlp.packEnabled=true">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="dla.nlogo">dla.nlogo</a></p>
<h2>WHAT IS IT?</h2><p>This is a simulation of diffusion limited aggregation (DLA), based on the description provided by Mullins (2011). According to Mullins, &ldquo;DLA is a process first discussed in Witten and Meakin (1983), where particles moving about randomly aggregate to form Brownian trees, a type of fractal structure found in nature (e.g. crystal growth, dust coalescence and snow flakes). To clarify the meaning of DLA, diffusion refers to the movement of particles due to temperature fluctuations, limited refers to the increase in size by one particle at a time, and aggregation refers to the collection of particles connected together.&rdquo;</p><h2>HOW IT WORKS</h2><p>A stationary particle is placed at the center of the graphics pane. This is the start of the DLA structure. You can use a button to introduce more particles. These particles perform a random walk. If a particle gets within a used-specified distance of a particle in the DLA structure it stops moving and is now a part of the DLA structure.</p><p>If a particle moves outside the graphics pane boundaries it is moved to a random location within the graphics pane (more precisely it is killed and a new particle is created).</p><h2>HOW TO USE IT</h2><p>Click SETUP to initialize the center particle. This particle is white to denote that it is part of the DLA structure.</p><p>Click MOVE to have the simulation start. Note that nothing will happen until the ADD 100 button is clicked. </p><p>When ADD 100 is clicked 100 particles are randomly placed in the graphics pane. These particles are yellow until they become part of the DLA structure, at which point they become white. The initial heading of each particle is towards the center of the graphics pane.</p><p>Every time step each particle that is not part of the DLA structure performs a parameterized random walk. The parameter is controlled with the WIGGLE_AMOUNT slider. Particles uniformly turn left or right from -WIGGLE_AMOUNT to WIGGLE_AMOUNT degrees. Hence, if WIGGLE_AMOUNT is set to zero, the particles move straight to the center. If WIGGLE_AMOUNT is set to 180, then this is a random walk.</p><p>When a particle gets within DESIRED_SEPARATION of a particle in the DLA structure it stops moving and is incorporated into the structure. If there is no particle within distance DESIRED_SEPARATION, the random walk is performed. Similarly, if too many particles are within DESIRED_SEPARATION distance the random walk is performed. The BETA slider controls the number of particles that are considered to be too many.</p><p>All the sliders will affect the simulation while yellow particles remain.</p><h2>THINGS TO NOTICE</h2><p>If a particle moves to the edge of the graphics pane it dies, but is immediately replaced by a new particle that is randomly placed within the graphics pane. Hence the number of particles remains constant.</p><p>Usually it is reasonable to press &ldquo;ADD 100&rdquo; numerous times to get a sufficient number of particles into the simulation. Roughly 1000 is reasonable.</p><p>If the DESIRED_SEPARATION is large enough you will see green lines between pairs of white particles in the DLA structure. This helps to better show the precise structure of the DLA.</p><h2>THINGS TO TRY</h2><p>See how WIGGLE_AMOUNT changes behavior. Similarly, change DESIRED_SEPARATION and BETA.</p><h2>EXTENDING THE MODEL</h2><p>Note, in order to change any NetLogo simulation, you must have the source code (i.e., &ldquo;dla.nlogo&rdquo;) downloaded to your computer, as well as NetLogo itself. You can not change the code when you are running the simulation with your browser.</p><h2>NETLOGO FEATURES</h2><p>This simulation makes good use of the &ldquo;hatch&rdquo; command, both to re-introduce particles that stray out of the graphics pane, and to draw the green lines between pairs of white particles in the DLA structure.</p><h2>RELATED MODELS</h2><h2>CREDITS AND REFERENCES</h2><p>This code is based on the description of DLA provided by &ldquo;Autonomous Recharging of Swarm Robots&rdquo; by Jonathan Mullins, Bachelor of Software Engineering thesis from Clayton School of Information Technology Monash University, June, 2011</p><p>Witten, T. A. and Meakin, P. (1983). Diffusion-limited aggregation at multiple growth<br/>sites, Phys. Rev. B 28(10): 5632-5642.</p><h2>HOW TO CITE</h2><p>If you mention this model in an academic publication, we ask that you include these citations for the model itself and for the NetLogo software:<br/>- Spears, William M. (2012) Diffusion Limited Aggregation Algorithm in NetLogo.<br/>- Wilensky, U. (1999). NetLogo. <a href="http://ccl.northwestern.edu/netlogo/">http://ccl.northwestern.edu/netlogo/</a>. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.</p><h2>COPYRIGHT NOTICE</h2><p>Copyright 2012 William M. Spears. All rights reserved.</p><p>Permission to use, modify or redistribute this model is hereby granted, provided that both of the following requirements are followed:<br/>a) this copyright notice is included, and<br/>b) this model will not be redistributed for profit without permission from William M. Spears. Contact William M. Spears for appropriate licenses for redistribution for profit.</p><p><a href="http://www.swarmotics.com">http://www.swarmotics.com</a></p>

<h1>CODE</h1>
<pre><font color="#5a5a5a">; William M. Spears May 2012</font><font color="#000000">
</font><font color="#5a5a5a">; As per the robot algorithm described on pages 9, 10 and 31 of </font><font color="#000000">
</font><font color="#5a5a5a">; &quot;Autonomous Recharging of Swarm Robots&quot; by Jonathan Mullins,</font><font color="#000000">
</font><font color="#5a5a5a">; Bachelor of Software Engineering thesis from Clayton School </font><font color="#000000">
</font><font color="#5a5a5a">; of Information Technology Monash University, June, 2011</font><font color="#000000">
</font><font color="#5a5a5a">; A crude implementation of Diffusion Limited Aggregation</font><font color="#000000">
</font><font color="#5a5a5a">; For research and educational use only</font><font color="#000000">

</font><font color="#660096">breed</font><font color="#000000"> [robots robot]                              </font><font color="#5a5a5a">; Introduce the &quot;robot&quot; breed</font><font color="#000000">

</font><font color="#007f69">robots-own</font><font color="#000000"> [done]

</font><font color="#007f69">to</font><font color="#000000"> setup
   </font><font color="#0000aa">clear-all</font><font color="#000000">                                      </font><font color="#5a5a5a">; Clear everything</font><font color="#000000">
   create-robots </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> done </font><font color="#963700">true</font><font color="#000000">       </font><font color="#5a5a5a">; Create and initialize center robot</font><font color="#000000">
                    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">]
   </font><font color="#0000aa">reset-ticks</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> run-and-monitor
   </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> robots </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) [</font><font color="#0000aa">user-message</font><font color="#000000"> </font><font color="#963700">&quot;Please click HALT and then SETUP AGENTS first&quot;</font><font color="#000000"> </font><font color="#0000aa">stop</font><font color="#000000">]
   </font><font color="#0000aa">ask</font><font color="#000000"> robots [move-robots]
   </font><font color="#0000aa">tick</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> move-robots                           
   </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">not</font><font color="#000000"> done) [                                </font><font color="#5a5a5a">; If not part of structure</font><font color="#000000">
      </font><font color="#0000aa">let</font><font color="#000000"> friends </font><font color="#660096">other</font><font color="#000000"> robots </font><font color="#660096">in-radius</font><font color="#000000"> Desired_Separation </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">]
      </font><font color="#5a5a5a">; If no friends nearby, or too many friends, random walk.</font><font color="#000000">
      </font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">count</font><font color="#000000"> friends </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> friends </font><font color="#660096">&gt;</font><font color="#000000"> Beta)) [
         </font><font color="#5a5a5a">; Parameterized Random walk</font><font color="#000000">
         </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> (</font><font color="#660096">random</font><font color="#000000"> (</font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> Wiggle_Amount) </font><font color="#660096">-</font><font color="#000000"> Wiggle_Amount)
         </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
         </font><font color="#5a5a5a">; If boundary is hit, remove particle from world but create a new one also</font><font color="#000000">
         </font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">round</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000">) [create </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">die</font><font color="#000000">]
            [</font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">round</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) </font><font color="#660096">=</font><font color="#000000"> (</font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">max-pxcor</font><font color="#000000">)) [create </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">die</font><font color="#000000">]
                [</font><font color="#0000aa">ifelse</font><font color="#000000"> ((</font><font color="#660096">round</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000">) </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000">) [create </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">die</font><font color="#000000">]
                    [</font><font color="#0000aa">if</font><font color="#000000"> ((</font><font color="#660096">round</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000">) </font><font color="#660096">=</font><font color="#000000"> (</font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">max-pycor</font><font color="#000000">)) [create </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">die</font><font color="#000000">]]]]
      ]
      [
         </font><font color="#0000aa">let</font><font color="#000000"> friend </font><font color="#660096">one-of</font><font color="#000000"> friends                </font><font color="#5a5a5a">; If friends nearby</font><font color="#000000">
         </font><font color="#0000aa">let</font><font color="#000000"> deltax (([</font><font color="#660096">xcor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> friend) </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) 
         </font><font color="#0000aa">let</font><font color="#000000"> deltay (([</font><font color="#660096">ycor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> friend) </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000">) 
         </font><font color="#0000aa">let</font><font color="#000000"> r </font><font color="#660096">sqrt</font><font color="#000000"> (deltax </font><font color="#660096">*</font><font color="#000000"> deltax </font><font color="#660096">+</font><font color="#000000"> deltay </font><font color="#660096">*</font><font color="#000000"> deltay)
         </font><font color="#5a5a5a">; Create a &quot;virtual&quot; robot with a green pen down to draw the line</font><font color="#000000">
         </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [</font><font color="#0000aa">pd</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> (</font><font color="#660096">atan</font><font color="#000000"> deltax deltay) </font><font color="#0000aa">fd</font><font color="#000000"> r </font><font color="#0000aa">die</font><font color="#000000">]
         </font><font color="#0000aa">set</font><font color="#000000"> done </font><font color="#963700">true</font><font color="#000000">
         </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000">                          </font><font color="#5a5a5a">; Now part of the DLA structure</font><font color="#000000">
      ]
   ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">; Create n new robots</font><font color="#000000">
</font><font color="#007f69">to</font><font color="#000000"> create [n]
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> robots
      [</font><font color="#0000aa">hatch</font><font color="#000000"> n [
           </font><font color="#0000aa">setxy</font><font color="#000000"> (</font><font color="#963700">15</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">16</font><font color="#000000">) (</font><font color="#963700">15</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">16</font><font color="#000000">)
           </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> (</font><font color="#660096">atan</font><font color="#000000"> (</font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) (</font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000">))
           </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> done </font><font color="#963700">false</font><font color="#000000">
      ]] 
</font><font color="#007f69">end</font>
</pre>

</body>
</html>
